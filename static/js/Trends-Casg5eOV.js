import{j}from"./primevue-B9mc3ZvP.js";import{u as D}from"./vue-i18n-BsPu5iUC.js";import{u as E}from"./useI18n-AUkHkNEi.js";import{p as O}from"./data-statistics-CduRdxHD.js";import{r as s,M as V,o as B,c as m,x,F,b as f,d as M,t as b,U as N,u as T}from"./@vue-BCP6iOYN.js";import"./@primeuix-DLtbeBr7.js";import"./@primevue-CD02si2e.js";import"./@intlify-D3GL-xSz.js";const I={class:"mt-0"},H={__name:"Trends",setup(L,{expose:g}){const{t:n}=D();E("menu.trends");const h=s(!1),y=s(!1),d=s(O),l=s({}),i=s([]),_=V(()=>({toptier:n("abstract.topTier"),softwareengineering:n("abstract.softwareEngineering"),system:n("abstract.system")})),u=s(null),v=a=>{document.querySelector(a).scrollIntoView({behavior:"smooth"})},C=()=>{const a=getComputedStyle(document.documentElement),e={};d.value.overview.forEach(t=>{const o=t.category;e[o]||(e[o]={datasets:[],years:new Set}),Object.keys(t.map_data).forEach(p=>e[o].years.add(p)),e[o].datasets.push({label:t.label,map_data:t.map_data,fill:t.fill,borderColor:a.getPropertyValue(t.borderColor),tension:t.tension})});const c={};return Object.keys(e).forEach(t=>{const o=Array.from(e[t].years).sort(),p=e[t].datasets.map(r=>{const k=o.map(w=>r.map_data[w]||null);return{label:r.label,data:k,fill:r.fill,borderColor:r.borderColor,tension:r.tension}});c[t]={labels:o,datasets:p}}),{chartDataObj:c,categories:Object.keys(e)}},S=a=>{console.log("Filtering:",a.filteredValue.length)};return B(()=>{const{chartDataObj:a,categories:e}=C();l.value=a,i.value=e}),g({viewBlocks:v,onFiltering:S,loading:h,loaded:y,paperStatis:d,chartDataByCategory:l,categories:i,chartOptions:u}),(a,e)=>{const c=j;return f(!0),m(F,null,x(i.value,t=>(f(),m("div",{class:"card",key:t},[M("h1",I,b(N(n)("trends.title"))+" - "+b(_.value[t.replace("-","").replace(" ","").toLowerCase()]),1),T(c,{type:"line",data:l.value[t],options:u.value,class:"min-h-96"},null,8,["data","options"])]))),128)}}};export{H as default};
