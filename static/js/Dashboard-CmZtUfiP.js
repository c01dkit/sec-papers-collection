import{u as O}from"./useI18n-AUkHkNEi.js";import{u as z}from"./vue-i18n-BsPu5iUC.js";import{l as A,g as U}from"./index-waGj-Rgr.js";import{p as v}from"./data-statistics-CduRdxHD.js";import{_ as P}from"./plugin-vueexport-helper-DlAUqK2U.js";import{r as N,o as Y,Q as B,b as i,c as p,d as t,t as a,U as m,Y as E,Z as L,M as x,F as C,x as j,A as D,i as R,u as I}from"./@vue-BCP6iOYN.js";import{s as F}from"./primevue-B9mc3ZvP.js";import"./@intlify-D3GL-xSz.js";import"./vue-router-CRpeqk2Z.js";import"./@primeuix-DLtbeBr7.js";import"./@primevue-CD02si2e.js";/* empty css              */const V="https://api.github.com/repos/c01dkit/sec-papers-collection";async function W(){try{return await(await fetch(V)).json()}catch(r){console.error(r)}}const G={getRepoStatisticsData(){return W()}},y=r=>(E("data-v-ca3ad177"),r=r(),L(),r),Q={class:"grid grid-cols-12 gap-8 mb-8"},T={class:"col-span-12 lg:col-span-6 xl:col-span-3"},Z={class:"card mb-0"},q={class:"flex justify-between mb-4"},H={class:"block text-muted-color font-medium mb-4"},J={class:"font-medium text-xl"},K=y(()=>t("div",{class:"flex items-center justify-center bg-blue-100 dark:bg-blue-400/10 rounded-border",style:{width:"2.5rem",height:"2.5rem"}},[t("i",{class:"pi pi-file text-blue-500 !text-xl"})],-1)),X={class:"col-span-12 lg:col-span-6 xl:col-span-3"},M={class:"card mb-0"},tt={class:"flex justify-between mb-4"},st={class:"block text-muted-color font-medium mb-4"},et={class:"font-medium text-xl"},at=y(()=>t("div",{class:"flex items-center justify-center bg-indigo-100 dark:bg-indigo-400/10 rounded-border",style:{width:"2.5rem",height:"2.5rem"}},[t("i",{class:"pi pi-book text-indigo-500 !text-xl"})],-1)),ot={class:"col-span-12 lg:col-span-6 xl:col-span-3"},nt={class:"card mb-0"},rt={class:"flex justify-between mb-4"},ct={class:"block text-muted-color font-medium mb-4"},dt={class:"font-medium text-xl"},lt=y(()=>t("div",{class:"flex items-center justify-center bg-yellow-100 dark:bg-yellow-400/10 rounded-border",style:{width:"2.5rem",height:"2.5rem"}},[t("i",{class:"pi pi-star text-yellow-500 text-xl"})],-1)),it={class:"col-span-12 lg:col-span-6 xl:col-span-3"},pt={class:"card mb-0"},ut={class:"flex justify-between mb-4"},_t={class:"block text-muted-color font-medium mb-4"},mt={class:"text-900 font-medium text-xl"},ht=y(()=>t("div",{class:"flex items-center justify-center bg-orange-100 dark:bg-orange-400/10 rounded-border",style:{width:"2.5rem",height:"2.5rem"}},[t("i",{class:"pi pi-sparkles text-orange-500 !text-xl"})],-1)),bt={__name:"StatsWidget",setup(r){const{t:n}=z(),f=N(v),h=N({stars:"loading",forks:" ...",pushed:"loading ..."}),S=()=>{};return Y(()=>{G.getRepoStatisticsData().then(d=>{const b=new Date(d.pushed_at),w=b.getFullYear(),k=(b.getMonth()+1).toString().padStart(2,"0"),$=b.getDate().toString().padStart(2,"0"),c=`${w}-${k}-${$}`;h.value={stars:d.stargazers_count,forks:" / "+d.forks_count,pushed:c}}),A.on(S)}),B(()=>{A.off(S)}),(d,b)=>(i(),p("div",Q,[t("div",T,[t("div",Z,[t("div",q,[t("div",null,[t("span",H,a(m(n)("dashboard.totalPapers")),1),t("div",J,a(f.value.total),1)]),K])])]),t("div",X,[t("div",M,[t("div",tt,[t("div",null,[t("span",st,a(m(n)("dashboard.totalPublications")),1),t("div",et,a(f.value.overview.length),1)]),at])])]),t("div",ot,[t("div",nt,[t("div",rt,[t("div",null,[t("span",ct,a(m(n)("dashboard.projectStars")),1),t("div",dt,a(h.value.stars)+" "+a(h.value.forks),1)]),lt])])]),t("div",it,[t("div",pt,[t("div",ut,[t("div",null,[t("span",_t,a(m(n)("dashboard.recentUpdate")),1),t("span",mt,a(h.value.pushed),1)]),ht])])])]))}},gt=P(bt,[["__scopeId","data-v-ca3ad177"]]),xt=r=>(E("data-v-074104d5"),r=r(),L(),r),ft={class:"card"},vt={class:"flex items-center justify-between gap-4 mb-4 flex-wrap"},St={class:"font-semibold text-xl m-0"},yt={key:0,class:"flex items-center gap-3 flex-wrap","aria-label":"status legend"},wt={class:"flex flex-col gap-4"},kt={class:"flex items-center justify-between gap-3 mb-3 flex-wrap"},$t={class:"flex items-center gap-2"},Ct=xt(()=>t("i",{class:"pi pi-tags text-primary text-base"},null,-1)),jt={class:"font-semibold text-lg"},Dt={class:"text-sm text-muted-color"},It={class:"grid gap-3 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},Pt={class:"flex flex-col"},At={class:"text-xs text-muted-color"},Nt={class:"font-semibold text-base"},Rt={class:"flex items-center gap-2 text-xs font-medium"},zt={__name:"PaperStats",setup(r){const{t:n}=z(),f=U(),h=x(()=>!!f.showStatusDots),S=["advanced","processed","processing","pending"],d={advanced:{label:x(()=>n("dashboard.paperStats.status.advanced")),dotClass:"bg-purple-400 shadow-dot-purple",textClass:"text-purple-500 dark:text-purple-300"},processed:{label:x(()=>n("dashboard.paperStats.status.processed")),dotClass:"bg-green-400 shadow-dot-green",textClass:"text-green-600 dark:text-green-200"},processing:{label:x(()=>n("dashboard.paperStats.status.processing")),dotClass:"bg-amber-400 shadow-dot-amber",textClass:"text-amber-600 dark:text-amber-200"},pending:{label:x(()=>n("dashboard.paperStats.status.pending")),dotClass:"bg-red-400 shadow-dot-red",textClass:"text-red-600 dark:text-red-200"}},b=x(()=>{const c=w(),e=v.byPublicationAndYearAndStatus||{};return Object.entries(c).map(([l,o])=>{const s=Object.entries(o).sort(([u],[_])=>Number(_)-Number(u)).map(([u,_])=>({year:u,count:_,status:k(l,u,e)})),g=s.reduce((u,_)=>u+Number(_.count||0),0);return{name:l,items:s,total:g}})});function w(){const c=v.byPublicationAndYear||{};if(Object.keys(c).length)return c;const e=v.years||[],l=v.overview||[],o={};return l.forEach(s=>{!(s!=null&&s.label)||!Array.isArray(s.data)||(o[s.label]={},e.forEach((g,u)=>{const _=s.data[u];_!==void 0&&(o[s.label][g]=_)}))}),o}function k(c,e,l){var g;const o=(g=l==null?void 0:l[c])==null?void 0:g[e],s=$(o);return s||"pending"}function $(c){if(!c)return null;const e=String(c).toLowerCase();return e==="advanced"||e==="advanced_processed"?"advanced":e==="processed"||e==="done"||e==="completed"?"processed":e==="processing"||e==="inprogress"||e==="running"?"processing":e==="pending"||e==="todo"||e==="notchecked"||e==="unprocessed"?"pending":null}return(c,e)=>{const l=F;return i(),p("div",ft,[t("div",vt,[t("div",null,[t("h1",St,a(m(n)("dashboard.paperStats.subtitle")),1)]),h.value?(i(),p("div",yt,[(i(),p(C,null,j(S,o=>t("div",{key:o,class:"flex items-center gap-2 text-sm text-muted-color"},[t("span",{class:D(["status-dot",d[o].dotClass])},null,2),t("span",null,a(d[o].label),1)])),64))])):R("",!0)]),I(l,{class:"mb-4"}),t("div",wt,[(i(!0),p(C,null,j(b.value,o=>(i(),p("div",{key:o.name,class:"conference-block"},[t("div",kt,[t("div",$t,[Ct,t("span",jt,a(o.name),1)]),t("span",Dt,a(m(n)("dashboard.paperStats.totalPapers",{count:o.total})),1)]),t("div",It,[(i(!0),p(C,null,j(o.items,s=>(i(),p("div",{key:s.year,class:"year-card flex items-center justify-between gap-3"},[t("div",Pt,[t("span",At,a(m(n)("dashboard.paperStats.year",{year:s.year})),1),t("span",Nt,a(s.count)+" "+a(m(n)("dashboard.paperStats.papers")),1)]),t("div",Rt,[h.value?(i(),p("span",{key:0,class:D(["status-dot",d[s.status].dotClass])},null,2)):R("",!0),t("span",{class:D(d[s.status].textClass)},a(d[s.status].label),3)])]))),128))])]))),128))])])}}},Et=P(zt,[["__scopeId","data-v-074104d5"]]),Lt={class:"space-y-6"},Ot={__name:"Dashboard",setup(r){return O("dashboard.title"),(n,f)=>(i(),p("div",Lt,[I(gt),I(Et)]))}},Jt=P(Ot,[["__scopeId","data-v-8392fba1"]]);export{Jt as default};
