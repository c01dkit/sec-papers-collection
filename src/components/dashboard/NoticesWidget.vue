<script setup>
import { useI18n } from 'vue-i18n';
import { languageEmitter } from '@/locales';
import { onMounted, onUnmounted} from 'vue';

const { t, locale } = useI18n();

// // è¯­è¨€åˆ‡æ¢å¤„ç†
const handleLanguageChange = () => {
    // å½“è¯­è¨€åˆ‡æ¢æ—¶ï¼Œå¯ä»¥åœ¨è¿™é‡Œå¤„ç†ç‰¹å®šçš„é€»è¾‘
    // ç›®å‰å¤§éƒ¨åˆ†å†…å®¹ä¼šè‡ªåŠ¨æ›´æ–°
};
// // è¯­è¨€åˆ‡æ¢å¤„ç†
// const handleLanguageChange = (newLocale) => {
//     AboutService.getUpdateTimelineData(newLocale).then((res) => {
//         events.value = res;
//     });
// };

onMounted(() => {
    languageEmitter.on(handleLanguageChange);
});

onUnmounted(() => {
    languageEmitter.off(handleLanguageChange);
});
</script>

<template>
    <div class="col-span-12 card">
        <h1 class="mb-4"> {{ t('dashboard.notices')}}</h1>
        <Divider/>
        <div v-if="locale === 'en'">
            <div class="flex justify-between mb-3">
                <div class="font-medium">NEWS! </div>
                <div>2024-09-01</div>
            </div>
            <div >
                Our new security paper collection is online now.
                You can start your journal from "Search" button in the Side bar.
                This site is still under construction, of course.<br/>
                NOTE1: The website is tested in Chrome, and some items may not be loaded correctly in other browsers.<br/>
                NOTE2: If buttons do not respond, please make a force refresh ( Ctrl + F5 ) to clear the cache.
            </div>
        </div>
        <div v-else-if="locale === 'zh'">
            <div class="flex justify-between mb-3">
                <div class="font-medium">æœ€æ–°æ¶ˆæ¯! </div>
                <div>2024-09-01</div>
            </div>
            <div >
                æˆ‘ä»¬çš„æ–°å®‰å…¨è®ºæ–‡é›†ç°å·²ä¸Šçº¿ã€‚ğŸ¥°<br/>
                ä½ å¯ä»¥é€šè¿‡ä¾§è¾¹æ çš„â€œæœç´¢â€æŒ‰é’®å¼€å§‹å¿«é€Ÿæ£€ç´¢ã€‚
                å½“ç„¶ï¼Œæœ¬ç½‘ç«™ä»åœ¨å»ºè®¾ä¸­ã€‚è¯·æ³¨æ„ï¼šæœ¬ç½‘ç«™ä»…åœ¨ Chrome æµè§ˆå™¨ä¸­æµ‹è¯•ï¼Œå…¶ä»–æµè§ˆå™¨å¯èƒ½å­˜åœ¨éƒ¨åˆ†å†…å®¹æ— æ³•æ­£å¸¸åŠ è½½çš„æƒ…å†µï¼›å¦‚æœæŒ‰é’®æ— å“åº”ï¼Œè¯·å¼ºåˆ¶åˆ·æ–°é¡µé¢ï¼ˆCtrl + F5ï¼‰ä»¥æ¸…é™¤ç¼“å­˜ã€‚
            </div>
        </div>
    </div>
</template>

<style scoped>
h1 {
    @apply font-semibold text-xl ;
}
</style>